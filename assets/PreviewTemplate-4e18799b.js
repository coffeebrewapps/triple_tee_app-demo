import{_ as w,n as E,a as S,u as B,b as C,d as p,r as d,e as D,o as m,c as M,j,t as x,h as v,g as R,f as I}from"./index-934675e2.js";import{u as O}from"./utils-3e19fdef.js";import{T as P}from"./TemplateEditor-0164e2dd.js";import"./TabContainer-64e5fd51.js";const U={class:"page-container"},A={class:"heading"},N={__name:"PreviewTemplate",props:{disabled:{type:Boolean,default:!1}},setup(_){const y=E(),o=S(),{flashMessage:n}=B(),{initSampleData:g}=O(),l=C(),i=Object.assign({},y.currentRoute.value),u=p(()=>i.params.id),t=p(()=>i.params.templateType),c=d({}),e=d(),f=p(()=>e.value?t.value==="invoice_templates"?`Invoice Template: ${e.value.name}`:`Receipt Template: ${e.value.name}`:"");async function h(a){const r=Object.assign({},e.value,{contentMarkup:a});await o.update(t.value,u.value,r).then(s=>{e.value=s,n("Updated markup successfully!")}).catch(s=>{l.error("Error updating markup",s),n("Error updating markup!")})}async function k(a){const r=Object.assign({},e.value,{contentStyles:a});await o.update(t.value,u.value,r).then(s=>{e.value=s,n("Updated styles successfully!")}).catch(s=>{l.error("Error updating styles",s),n("Error updating styles !")})}function T(a){c.value[t.value]=a}async function b(){await o.view(t.value,u.value,{}).then(a=>{e.value=a}).catch(a=>{n("Error loading template!"),l.error("Error loading template",a)})}return D(async()=>{c.value=g(t.value),await b()}),(a,r)=>(m(),M("div",U,[j("h2",A,x(v(f)),1),e.value?(m(),R(P,{key:0,id:e.value.id,"template-type":v(t),"content-markup":e.value.contentMarkup,"content-styles":e.value.contentStyles,data:c.value,disabled:_.disabled,onContentMarkupChange:h,onContentStylesChange:k,onDataChange:T},null,8,["id","template-type","content-markup","content-styles","data","disabled"])):I("",!0)]))}},z=w(N,[["__scopeId","data-v-ec0a391c"]]);export{z as default};
