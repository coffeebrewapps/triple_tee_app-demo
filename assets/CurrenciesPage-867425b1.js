import{_ as k,x as D,q as R,o as s,g as w,s as u,j as a,t as l,c as n,f as c,v as i,p as I,i as B}from"./index-934675e2.js";import{D as P}from"./DataPage-78066d2a.js";import"./input-c40fa1a3.js";import"./errors-29306128.js";import"./DataForm-96cda901.js";const V=r=>(I("data-v-a8f9cbc3"),r=r(),B(),r),N={class:"align-middle"},T={key:0,class:"tag inline"},F={key:1,class:"tag inline"},L={key:0},j={key:1},q=V(()=>a("strong",null,"present",-1)),A={__name:"CurrenciesPage",setup(r){const{notEarlierThan:p,greaterThan:y}=D(),v=R(),_=[{code:"md",symbol:"md",exchangeRate:"md"},{effectiveStart:"md",effectiveEnd:"md"}],g=[{key:"id",type:"text",label:"ID",listable:!0,viewable:!1,creatable:!1,updatable:!1,sortable:!0},{key:"code",type:"text",label:"Code",listable:!0,viewable:!0,creatable:!0,updatable:!1,filterable:!0,sortable:!0},{key:"symbol",type:"text",label:"Symbol",listable:!0,viewable:!0,creatable:!0,updatable:!1},{key:"exchangeRate",type:"number",label:"Exchange Rate",listable:!0,viewable:!0,creatable:!0,updatable:!0},{key:"effectiveStart",type:"date",label:"Effectve Start",listable:!0,viewable:!0,creatable:!0,updatable:!0,filterable:!0,sortable:!0},{key:"effectiveEnd",type:"date",label:"Effectve End",listable:!0,viewable:!0,creatable:!0,updatable:!0,filterable:!0,sortable:!0}],m={initData:{effectiveStart:{startDate:null,endDate:null},effectiveEnd:{startDate:null,endDate:null}},layout:[{code:"md"},{effectiveStart:"md",effectiveEnd:"md"}]},h={create:{exchangeRate:[b],effectiveEnd:[f]},update:{exchangeRate:[b],effectiveEnd:[f]}};function f(t){return p(t,"effectiveEnd","effectiveStart")}function b(t){return y(t,"exchangeRate",0)}const E={oneline:!0,showHeader:!1,highlightField:"code"};function x(t){const o=v.getSystemConfigs(),e=o.includes.baseCurrencyId[o.baseCurrencyId];return e&&e.code===t.code}function S(t){return new Date>=new Date(t.effectiveStart)}return(t,o)=>(s(),w(P,{"model-class":"currencies","data-type":"Currencies","fields-layout":_,"data-fields":g,validations:h,filters:m,"table-style":E},{["highlight.code"]:u(({row:e,formattedValue:d})=>[a("div",N,[a("strong",null,l(d)+" ("+l(e.symbol)+")",1),x(e)?(s(),n("span",T,"Base")):c("",!0),S(e)?(s(),n("span",F,"Latest")):c("",!0)])]),["data-col.exchangeRate"]:u(({formattedValue:e})=>[i(" Exchange rate "),a("strong",null,l(e),1)]),["data-col.effectiveStart"]:u(({row:e,formattedValue:d,inputValue:C})=>[i(" Effective "),a("strong",null,l(d),1),e.effectiveEnd?(s(),n("span",L,[i(" - "),a("strong",null,l(C("effectiveEnd",e)),1)])):c("",!0),e.effectiveEnd?c("",!0):(s(),n("span",j,[i(" - "),q]))]),_:2},1024))}},M=k(A,[["__scopeId","data-v-a8f9cbc3"]]);export{M as default};
