import{x as U,q as L,d as C,o,g as N,s as i,v as u,t as a,j as b,c as D,z as q,B,C as $,h as s,D as j}from"./index-4aadfbc8.js";import{D as z}from"./DataPage-b5787fe6.js";import"./input-f75b7148.js";import"./errors-29306128.js";import"./DataForm-42274987.js";const K={__name:"InvoiceConfigs",props:{contactId:{type:String,default:null}},setup(I){const c=I,{greaterThan:d}=U(),{formatTagSync:S,tagStyle:V}=j(),k=L().getSystemConfigs(),w=[{description:"lg"},{invoiceCycleDurationValue:"md",invoiceCycleDurationUnit:"md"},{dueDateCycleValue:"md",dueDateCycleUnit:"md"},{paymentTerms:"lg"},{tags:"lg"},{customFields:"lg"},{invoiceNumberSequenceId:"lg"},{billingContactId:"lg"},{invoiceTemplateId:"lg"},{currencyId:"lg"}],h=C(()=>[{key:"id",type:"text",label:"ID",listable:!0,viewable:!0,creatable:!1,updatable:!1,sortable:!0},{key:"description",type:"text",label:"Description",listable:!0,viewable:!0,creatable:!0,updatable:!0},{key:"invoiceCycleDurationValue",type:"number",label:"Invoice Cycle Duration Value",listable:!0,viewable:!0,creatable:!0,updatable:!1},{key:"invoiceCycleDurationUnit",type:"enum",label:"Invoice Cycle Duration Unit",listable:!0,viewable:!0,creatable:!0,updatable:!1},{key:"dueDateCycleValue",type:"number",label:"Due Date Cycle Value",listable:!0,viewable:!0,creatable:!0,updatable:!1},{key:"dueDateCycleUnit",type:"enum",label:"Due Date Cycle Unit",listable:!0,viewable:!0,creatable:!0,updatable:!1},{key:"paymentTerms",type:"text",label:"Payment Terms",listable:!1,viewable:!0,creatable:!0,updatable:!0},{key:"tags",type:"multiSelect",label:"Tags",reference:{label:y},listable:!0,viewable:!0,creatable:!0,updatable:!0,filterable:!0,options:{server:!0,pagination:!0,modelClass:"tags",value:r,label:y}},{key:"customFields",type:"object",label:"Custom Fields (JSON)",listable:!1,viewable:!0,creatable:!0,updatable:!0},{key:"invoiceNumberSequenceId",type:"singleSelect",label:"Sequence Number",reference:{label:p},listable:!1,viewable:!0,creatable:!0,updatable:!1,options:{server:!0,pagination:!0,modelClass:"sequences",value:r,label:p}},{key:"billingContactId",type:"singleSelect",label:"Contact",reference:{label:m},defaultValue:()=>c.contactId,listable:!0,viewable:!0,creatable:!0,updatable:!1,filterable:!0,options:{server:!0,pagination:!0,modelClass:"contacts",value:r,label:m}},{key:"invoiceTemplateId",type:"singleSelect",label:"Template",reference:{label:g},listable:!1,viewable:!0,creatable:!0,updatable:!0,options:{server:!0,pagination:!0,modelClass:"invoice_templates",value:r,label:g}},{key:"currencyId",type:"singleSelect",label:"Currency",reference:{label:f},listable:!1,viewable:!0,creatable:!0,updatable:!0,options:{server:!0,pagination:!0,modelClass:"currencies",value:r,label:f}}]),T={oneline:!0,showHeader:!1,highlightField:"description"},_={create:{invoiceCycleDurationValue:[e=>d(e,"invoiceCycleDurationValue",0)],dueDateCycleValue:[e=>d(e,"dueDateCycleValue",0)]}},x=C(()=>{const e={};return c.contactId&&(e.billingContactId=[{value:c.contactId}]),{initData:e,layout:[{billingContactId:"lg"}],disable:["billingContactId"]}});function r(e){return e.id}function y(e){return`${e.category}:${e.name}`}function p(e){return e.name}function m(e){return e.name}function g(e){return e.name}function f(e){return`${e.code} (${e.symbol})`}return(e,E)=>(o(),N(z,{"model-class":"invoice_configs","data-type":"Invoice Configs",fullscreen:!0,"fields-layout":w,"data-fields":s(h),validations:_,filters:s(x),"table-style":T},{["highlight.description"]:i(({formattedValue:t})=>[u(a(t),1)]),["data-col.currencyId"]:i(({formattedValue:t})=>[u(" Chargeable in "),b("strong",null,a(t),1)]),["data-col.invoiceCycleDurationValue"]:i(({row:t,formattedValue:l,inputValue:n})=>[u(" Billed every "),b("strong",null,a(l)+" "+a(n("invoiceCycleDurationUnit",t)),1)]),["data-col.dueDateCycleValue"]:i(({row:t,formattedValue:l,inputValue:n})=>[u(" Due in "),b("strong",null,a(l)+" "+a(n("dueDateCycleUnit",t)),1),u(" from Invoice Date ")]),["data-col.tags"]:i(({row:t,key:l,rawValue:n})=>[(o(!0),D(q,null,B(n,(v,F)=>(o(),D("span",{key:F,class:"tag inline",style:$(s(V)(t,v,l))},a(s(S)(t,v,l,s(k).tagFormat)),5))),128))]),_:2},1032,["data-fields","filters"]))}};export{K as default};
