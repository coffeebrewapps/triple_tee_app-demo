import{_ as h,u as m,a as x,b as y,r as e,d as k,e as I,o as l,c as u,f as i,g as w,h as _,i as B,p as S,j as A,k as C}from"./index-c658bd47.js";const D=t=>(S("data-v-426b48dd"),t=t(),A(),t),E={class:"page-container"},P=D(()=>C("h2",{class:"heading"}," Inbox ",-1)),j={key:0,class:"no-data-text"},L={__name:"InboxPage",setup(t){const{flashMessage:f}=m(),p=x(),v=y(),o=e(0),c=e(10),g=k(()=>[{key:"title",type:"text",label:"Subject",listable:!0,viewable:!0,creatable:!0,updatable:!1},{key:"content",type:"text",label:"Content",listable:!1,viewable:!0,creatable:!0,updatable:!1}]),d=e([]),s=e(0),n=e(!0);async function b(a){o.value=a,await r()}async function r(){await p.list("alerts",{offset:o.value,limit:c.value}).then(a=>{d.value=a.data,s.value=a.total,n.value=!1}).catch(a=>{n.value=!1,v.error("Error loading inbox",a),f("Error loading inbox!")})}return I(async()=>{await r()}),(a,M)=>(l(),u("div",E,[P,s.value===0?(l(),u("div",j," You have no unread message. ")):i("",!0),s.value>0?(l(),w(_(B),{key:1,name:"",headers:_(g),data:d.value,loading:n.value,pagination:{offset:o.value,limit:c.value,client:!1},"total-data":s.value,onOffsetChange:b},null,8,["headers","data","loading","pagination","total-data"])):i("",!0)]))}},O=h(L,[["__scopeId","data-v-426b48dd"]]);export{O as default};
