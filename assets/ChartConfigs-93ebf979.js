import{z as E,t as U,b as t,g as F,v as i,y as l,x as s,d as u,e as b,m as n,F as O,f as I,A as L,h as d,B as N}from"./index-9e5b3068.js";import{D as z}from"./DataPage-22a09e3b.js";import"./input-188c93b4.js";import"./errors-ebd9927f.js";import"./DataForm-41511fb8.js";const A={key:0,class:"tag inline"},G={key:1,class:"tag inline"},$={key:0},H={key:1},P=n("strong",null,"present",-1),W={__name:"ChartConfigs",setup(R){const{isEmpty:p,notEarlierThan:v,greaterThan:D}=E(),{formatTagSync:h,tagStyle:k}=N(),S=U().getSystemConfigs(),_=[{description:"md",displayOrder:"md"},{chartType:"md",dataSource:"md"},{scaleUnit:"md",scaleValue:"md",groupBy:"md"},{includeTags:"md",excludeTags:"md"},{startDate:"md",endDate:"md"}];function f(a){return a.id}function o(a){return`${a.category}:${a.name}`}const V=[{key:"id",type:"text",label:"ID",listable:!0,viewable:!1,creatable:!1,updatable:!1,sortable:!0},{key:"description",type:"text",label:"Description",listable:!0,viewable:!0,creatable:!0,updatable:!0,filterable:!0,sortable:!0},{key:"displayOrder",type:"number",label:"Display Order",listable:!0,viewable:!0,creatable:!0,updatable:!0,filterable:!1,sortable:!0},{key:"chartType",type:"enum",label:"Chart Type",listable:!0,viewable:!0,creatable:!0,updatable:!0,filterable:!1,sortable:!1},{key:"dataSource",type:"enum",label:"Data Source",listable:!0,viewable:!0,creatable:!0,updatable:!1,filterable:!0,sortable:!1},{key:"scaleUnit",type:"enum",label:"Scale Unit",listable:!0,viewable:!0,creatable:!0,updatable:!1,filterable:!1,sortable:!1},{key:"scaleValue",type:"number",label:"Scale Value",listable:!0,viewable:!0,creatable:!0,updatable:!0,filterable:!1,sortable:!1},{key:"groupBy",type:"enum",label:"Group By",listable:!0,viewable:!0,creatable:!0,updatable:!1,filterable:!1,sortable:!1},{key:"includeTags",type:"multiSelect",label:"Include Tags",isTags:!0,reference:{label:o},listable:!0,viewable:!0,creatable:!0,updatable:!0,filterable:!0,options:{server:!0,pagination:!0,modelClass:"tags",value:f,label:o}},{key:"excludeTags",type:"multiSelect",label:"Exclude Tags",isTags:!0,reference:{label:o},listable:!0,viewable:!0,creatable:!0,updatable:!0,filterable:!0,options:{server:!0,pagination:!0,modelClass:"tags",value:f,label:o}},{key:"startDate",type:"date",label:"Start Date",listable:!0,viewable:!0,creatable:!0,updatable:!0,filterable:!0,sortable:!0},{key:"endDate",type:"date",label:"End Date",listable:!0,viewable:!0,creatable:!0,updatable:!0,filterable:!0,sortable:!0},{key:"displayOrder",type:"number",label:"Display Order",listable:!0,viewable:!0,creatable:!0,updatable:!0,filterable:!1,sortable:!1},{key:"active",type:"boolean",label:"Active",listable:!0,viewable:!0,creatable:!1,updatable:!0,filterable:!0,sortable:!1}];function y(a){return v(a,"endDate","startDate")}function m(a){return D(a,"scaleValue",0)}function T(a){if(p(a.scaleUnit))return;const e={transactions:["dollar"],work_logs:["hour","minute","second"]}[a.dataSource];if(!p(e)&&!e.includes(a.scaleUnit))return{name:"invalidEnum",params:{validValues:e}}}const C={create:{scaleValue:[m],scaleUnit:[T],endDate:[y]},update:{scaleValue:[m],endDate:[y]}},w={oneline:!0,showHeader:!1,highlightField:"description"};return(a,x)=>(t(),F(z,{"model-class":"chart_configs","data-type":"Chart Configs","fields-layout":_,"data-fields":V,validations:C,"table-style":w},{["highlight.description"]:i(({row:e,formattedValue:r})=>[l(s(r)+" ",1),e.active?(t(),u("span",A,"active")):b("",!0),e.active?b("",!0):(t(),u("span",G,"inactive"))]),["data-col.dataSource"]:i(({formattedValue:e})=>[l(" Chart Data from "),n("strong",null,s(e),1)]),["data-col.groupBy"]:i(({formattedValue:e})=>[l(" Group by "),n("strong",null,s(e),1)]),["data-col.startDate"]:i(({row:e,formattedValue:r,inputValue:c})=>[l(" Date Range "),n("strong",null,s(r),1),e.endDate?(t(),u("span",$,[l(" - "),n("strong",null,s(c("endDate",e)),1)])):b("",!0),e.endDate?b("",!0):(t(),u("span",H,[l(" - "),P]))]),["data-col.includeTags"]:i(({row:e,key:r,rawValue:c})=>[l(" Include Data from "),(t(!0),u(O,null,I(c,(g,B)=>(t(),u("span",{key:B,class:"tag inline",style:L(d(k)(e,g,r))},s(d(h)(e,g,r,d(S).tagFormat)),5))),128))]),_:2},1024))}};export{W as default};
