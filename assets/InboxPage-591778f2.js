import{_ as h,j as m,u as x,k as y,r as e,c as k,o as I,d as l,e as u,f as i,h as w,i as _,l as B,p as S,m as j,n as A}from"./index-cd88dffc.js";const C=t=>(S("data-v-426b48dd"),t=t(),j(),t),D={class:"page-container"},E=C(()=>A("h2",{class:"heading"}," Inbox ",-1)),P={key:0,class:"no-data-text"},L={__name:"InboxPage",setup(t){const{flashMessage:f}=m(),p=x(),v=y(),o=e(0),c=e(10),b=k(()=>[{key:"title",type:"text",label:"Subject",listable:!0,viewable:!0,creatable:!0,updatable:!1},{key:"content",type:"text",label:"Content",listable:!1,viewable:!0,creatable:!0,updatable:!1}]),d=e([]),s=e(0),n=e(!0);async function g(a){o.value=a,await r()}async function r(){await p.list("alerts",{offset:o.value,limit:c.value}).then(a=>{d.value=a.data,s.value=a.total,n.value=!1}).catch(a=>{n.value=!1,v.error("Error loading inbox",a),f("Error loading inbox!")})}return I(async()=>{await r()}),(a,M)=>(l(),u("div",D,[E,s.value===0?(l(),u("div",P," You have no unread message. ")):i("",!0),s.value>0?(l(),w(_(B),{key:1,name:"",headers:_(b),data:d.value,loading:n.value,pagination:{offset:o.value,limit:c.value,client:!1},"total-data":s.value,onOffsetChange:g},null,8,["headers","data","loading","pagination","total-data"])):i("",!0)]))}},O=h(L,[["__scopeId","data-v-426b48dd"]]);export{O as default};
