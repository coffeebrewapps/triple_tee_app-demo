import{_ as E,t as b,u as S,j as B,k as C,c as p,r as d,o as D,d as m,e as M,n as j,y as x,i as v,h as R,f as I}from"./index-e008ca9e.js";import{u as O}from"./utils-3e19fdef.js";import{T as P}from"./TemplateEditor-65c58db1.js";import"./TabContainer-24d6b160.js";const U={class:"page-container"},A={class:"heading"},N={__name:"PreviewTemplate",props:{disabled:{type:Boolean,default:!1}},setup(y){const _=b(),o=S(),{flashMessage:n}=B(),{initSampleData:g}=O(),l=C(),i=Object.assign({},_.currentRoute.value),u=p(()=>i.params.id),t=p(()=>i.params.templateType),c=d({}),e=d(),f=p(()=>e.value?t.value==="invoice_templates"?`Invoice Template: ${e.value.name}`:`Receipt Template: ${e.value.name}`:"");async function h(a){const r=Object.assign({},e.value,{contentMarkup:a});await o.update(t.value,u.value,r).then(s=>{e.value=s,n("Updated markup successfully!")}).catch(s=>{l.error("Error updating markup",s),n("Error updating markup!")})}async function k(a){const r=Object.assign({},e.value,{contentStyles:a});await o.update(t.value,u.value,r).then(s=>{e.value=s,n("Updated styles successfully!")}).catch(s=>{l.error("Error updating styles",s),n("Error updating styles !")})}function T(a){c.value[t.value]=a}async function w(){await o.view(t.value,u.value,{}).then(a=>{e.value=a}).catch(a=>{n("Error loading template!"),l.error("Error loading template",a)})}return D(async()=>{c.value=g(t.value),await w()}),(a,r)=>(m(),M("div",U,[j("h2",A,x(v(f)),1),e.value?(m(),R(P,{key:0,id:e.value.id,"template-type":v(t),"content-markup":e.value.contentMarkup,"content-styles":e.value.contentStyles,data:c.value,disabled:y.disabled,onContentMarkupChange:h,onContentStylesChange:k,onDataChange:T},null,8,["id","template-type","content-markup","content-styles","data","disabled"])):I("",!0)]))}},z=E(N,[["__scopeId","data-v-ec0a391c"]]);export{z as default};
